{"version":3,"file":"316.e7d5b4adf00c6c10ca1b.js","mappings":"qKAEA,MAAMA,EAAiB,iBACtB,IAAIC,SAASC,iBAAiB,cAAcC,KAAI,SAACC,GAC/C,IAAIA,EAAeF,iBAAiB,UAAUC,KAAI,SAACE,GAC/CA,EAAMC,mBAGVD,EAAMC,kBAAmB,EAEzBD,EAAME,iBAAiB,SAAS,SAACC,GAC5BH,EAAMI,QAAQ,OAChB,IACGJ,EACDI,QAAQ,MACRP,iBAAiB,oBAElBQ,QAAO,SAACC,GAAD,OAAOA,IAAMN,KACpBF,KAAI,SAACE,GAAD,OAAYA,EAAMO,MAAQJ,EAAEK,OAAOD,oBAM9C,IAAIE,GAAU,EAEP,MAAMC,EAAQ,SAACC,EAAD,GAAmB,IAAd,MAAEC,GAAY,EACnCC,MAAMJ,IACTA,GAAU,EACVI,IAAEjB,SAASkB,MAAMC,GAAG,sBAAuBpB,GAC3CA,KAGD,MACMK,EADiBW,EAAGK,WACGC,cAAc,SACrCC,EAAcC,WAAWnB,EAAMO,MAAO,KAAO,EAEnD,GAAII,EAAGS,UAAUC,SAAS,eAAgB,CACzC,MAAMC,EAAMtB,EAAMuB,aAAa,QAC5BJ,WAAWnB,EAAMuB,aAAa,OAAQ,IACtCC,IAEHxB,EAAMO,MACLW,EAAcI,EACXG,KAAKC,MAC2C,KAA/CR,EAAcC,WAAWnB,EAAM2B,MAAQ,OACpC,IACJL,EAGL,GAAIX,EAAGS,UAAUC,SAAS,eAAgB,CACzC,MAAMO,EAAM5B,EAAMuB,aAAa,OAC5BE,KAAKC,MAAiD,IAA3CP,WAAWnB,EAAMuB,aAAa,OAAQ,IAAY,IAC7D,EAEHvB,EAAMO,MACLW,EAAcU,EACXH,KAAKC,MAC2C,KAA/CR,EAAcC,WAAWnB,EAAM2B,MAAQ,OACpC,IACJC,EAGLf,IAAEb,GAAO6B,QAAQ,UACjBhB,IAAEb,GAAO6B,QAAQ,SAEjB7B,EAAM8B,cAAc,IAAIC,MAAM,QAAS,CAAEC,SAAS,KAE9ChC,EAAMI,QAAQ,OAChB,IAAIJ,EAAMI,QAAQ,MAAMP,iBAAiB,oBACxCQ,QAAO,SAACC,GAAD,OAAOA,IAAMN,KACpBF,KAAI,SAACQ,GAAD,OAAQA,EAAEC,MAAQP,EAAMO","sources":["webpack://ctFrontend/./static/js/frontend/woocommerce/quantity-input.js"],"sourcesContent":["import $ from 'jquery'\n\nconst listenToClicks = () =>\n\t[...document.querySelectorAll('.quantity')].map((singleQuantity) => {\n\t\t;[...singleQuantity.querySelectorAll('input')].map((input) => {\n\t\t\tif (input.hasInputListener) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tinput.hasInputListener = true\n\n\t\t\tinput.addEventListener('input', (e) => {\n\t\t\t\tif (input.closest('tr')) {\n\t\t\t\t\t;[\n\t\t\t\t\t\t...input\n\t\t\t\t\t\t\t.closest('tr')\n\t\t\t\t\t\t\t.querySelectorAll('.quantity input'),\n\t\t\t\t\t]\n\t\t\t\t\t\t.filter((i) => i !== input)\n\t\t\t\t\t\t.map((input) => (input.value = e.target.value))\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t})\n\nlet mounted = false\n\nexport const mount = (el, { event }) => {\n\tif ($ && !mounted) {\n\t\tmounted = true\n\t\t$(document.body).on('updated_cart_totals', listenToClicks)\n\t\tlistenToClicks()\n\t}\n\n\tconst singleQuantity = el.parentNode\n\tconst input = singleQuantity.querySelector('input')\n\tconst properValue = parseFloat(input.value, 10) || 0\n\n\tif (el.classList.contains('ct-increase')) {\n\t\tconst max = input.getAttribute('max')\n\t\t\t? parseFloat(input.getAttribute('max'), 0) || Infinity\n\t\t\t: Infinity\n\n\t\tinput.value =\n\t\t\tproperValue < max\n\t\t\t\t? Math.round(\n\t\t\t\t\t\t(properValue + parseFloat(input.step || '1')) * 100\n\t\t\t\t  ) / 100\n\t\t\t\t: max\n\t}\n\n\tif (el.classList.contains('ct-decrease')) {\n\t\tconst min = input.getAttribute('min')\n\t\t\t? Math.round(parseFloat(input.getAttribute('min'), 0) * 100) / 100\n\t\t\t: 0\n\n\t\tinput.value =\n\t\t\tproperValue > min\n\t\t\t\t? Math.round(\n\t\t\t\t\t\t(properValue - parseFloat(input.step || '1')) * 100\n\t\t\t\t  ) / 100\n\t\t\t\t: min\n\t}\n\n\t$(input).trigger('change')\n\t$(input).trigger('input')\n\n\tinput.dispatchEvent(new Event('input', { bubbles: true }))\n\n\tif (input.closest('tr')) {\n\t\t;[...input.closest('tr').querySelectorAll('.quantity input')]\n\t\t\t.filter((i) => i !== input)\n\t\t\t.map((i) => (i.value = input.value))\n\t}\n}\n"],"names":["listenToClicks","document","querySelectorAll","map","singleQuantity","input","hasInputListener","addEventListener","e","closest","filter","i","value","target","mounted","mount","el","event","$","body","on","parentNode","querySelector","properValue","parseFloat","classList","contains","max","getAttribute","Infinity","Math","round","step","min","trigger","dispatchEvent","Event","bubbles"],"sourceRoot":""}